<html>
<head>

<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script src="elastos-wallet-api-min.js"></script>
<script src="did.js"></script>
<script src="CryptoJS/rollups/md5.js"></script>
<script type="text/javascript">

    const done = () => {
        var appname = document.getElementById("appname").value

        if (appname == "") {
            alert("请输入应用名称")
            return
        }

        var mnemonic = document.getElementById("mnemonic").value
        if (mnemonic == "") {
            alert("请输入助记词")
            return
        }

        var json = restoreDid(mnemonic)

        var appId = sign(appname, json.privateKey)

        var ret = "AppName: " + appname + "<br/>" + "AppID: " + appId + "<br/>"

        document.getElementById("appId").innerHTML = ret

        var txid = setInfo(accId, accSecret, "Dev/" + appname + "/AppID", appId, json.mnemonic)
        document.getElementById("txid").innerHTML = "Txid: " + txid

    }

</script>

<style>
    textarea {
        font-size: 20px;
        vertical-align: middle;
    }

    lable {
        text-align: center;
        vertical-align: middle;
    }

</style>
</head>
<body>

<p style="font-size: 24px;">生成AppID</p>
<div>
    <lable >应用名称</lable>
    <textarea id="appname" style="width:450px; height: 30px; padding-left: 10px;" row="1"></textarea>
</div>
<br/>

<div>
    <lable >助记词</lable>
    <textarea id="mnemonic" style="width:800px; height: 30px; padding-left: 10px;" row="1"></textarea>
</div>
<br/>

<div>
<button type="button" onclick="done()" style="width:100px; height:30px;">完成</button>
</div>

<br/>

<br/>
<p id="appId" style="word-wrap:break-word;"></p>
<p id="txid" style="word-wrap:break-word;"></p>

</body>
</html>
